---
description: Utility for VAN QA validation reports
globs: van-qa-utils/reports.mdc
alwaysApply: false
---
# VAN QA: VALIDATION REPORTS

ğŸš¨ MANDATORY: DATE/TIME STAMPS MUST USE sys8 MCP ğŸš¨
When generating TIMESTAMP fields in QA reports:
- MUST call sys8 MCP get_current_datetime FIRST
- MUST use the datetime value returned by sys8 MCP
- MUST NOT use PowerShell Get-Date, JavaScript Date(), or any other method
- Use sys8 MCP response format (e.g., `datetime`, `human_readable_utc3`)

ğŸš¨ MANDATORY: TASK ID IN REPORT FILENAME ğŸš¨
**ALL QA validation reports MUST include task ID in the filename.**
- Format: `qa-report-[task_id]-[phase].md` (e.g., `qa-report-DEV-0053-phase3.9.md`)
- Location: `memory-bank/reports/qa-report-[task_id]-[phase].md`
- **How to get task ID:** Read `memory-bank/activeContext.md` to get current task ID
- **Task ID format:** `[PREFIX]-[4-digit-number]` (e.g., `DEV-0053`, `FIN-0001`, `QA-0008`)
- See: `Core/task-numbering-system.mdc` for task ID format details

> **TL;DR:** This component contains the formats for comprehensive success and failure reports generated upon completion of the QA validation process. All reports MUST include task ID in filename.

## ğŸ“‹ COMPREHENSIVE SUCCESS REPORT FORMAT

After all four validation points pass, generate this success report:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ğŸ” QA VALIDATION REPORT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”‚ PROJECT: [Project Name] | TIMESTAMP: [Current Date/Time]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1ï¸âƒ£ DEPENDENCIES: âœ“ Compatible                                       â”‚
â”‚ 2ï¸âƒ£ CONFIGURATION: âœ“ Valid & Compatible                             â”‚
â”‚ 3ï¸âƒ£ ENVIRONMENT: âœ“ Ready                                             â”‚
â”‚ 4ï¸âƒ£ MINIMAL BUILD: âœ“ Successful & Passed                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸš¨ FINAL VERDICT: PASS                                              â”‚
â”‚ â¡ï¸ Clear to proceed to BUILD mode                                   â”‚
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Success Report Generation Example:
**NOTE:** In actual implementation, use sys8 MCP `get_current_datetime` instead of `Get-Date`.
This PowerShell example is for illustration only - agents MUST use sys8 MCP.

```powershell
function Generate-SuccessReport {
    param (
        [string]$ProjectName = "Current Project",
        [string]$TaskID = "",
        [string]$Phase = ""
    )
    
    # âš ï¸ WARNING: This example uses Get-Date for illustration only
    # In actual implementation, MUST call sys8 MCP get_current_datetime
    # Example: $timestamp = (sys8 MCP call result).datetime
    $timestamp = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
    
    # Get task ID from activeContext.md if not provided
    if ([string]::IsNullOrEmpty($TaskID)) {
        if (Test-Path "memory-bank\activeContext.md") {
            $activeContext = Get-Content "memory-bank\activeContext.md" -Raw
            if ($activeContext -match "Current Task[:\s]+([A-Z]+-\d{4})") {
                $TaskID = $Matches[1]
            }
        }
    }
    
    # Validate task ID format
    if ([string]::IsNullOrEmpty($TaskID) -or $TaskID -notmatch "^[A-Z]+-\d{4}$") {
        Write-Warning "Task ID not found or invalid format. Expected format: [PREFIX]-[4-digit-number]"
        Write-Warning "Please ensure activeContext.md contains current task ID"
    }
    
    $report = @"
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ğŸ” QA VALIDATION REPORT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”‚ PROJECT: $ProjectName | TASK: $TaskID | TIMESTAMP: $timestamp    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1ï¸âƒ£ DEPENDENCIES: âœ“ Compatible                                       â”‚
â”‚ 2ï¸âƒ£ CONFIGURATION: âœ“ Valid & Compatible                             â”‚
â”‚ 3ï¸âƒ£ ENVIRONMENT: âœ“ Ready                                             â”‚
â”‚ 4ï¸âƒ£ MINIMAL BUILD: âœ“ Successful & Passed                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸš¨ FINAL VERDICT: PASS                                              â”‚
â”‚ â¡ï¸ Clear to proceed to BUILD mode                                   â”‚
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"@
    
    # Save validation status (used by BUILD mode prevention mechanism)
    "PASS" | Set-Content -Path "memory-bank\.qa_validation_status"
    
    # Save report file with task ID in filename
    $reportFileName = "memory-bank\reports\qa-report-$TaskID"
    if (-not [string]::IsNullOrEmpty($Phase)) {
        $reportFileName += "-$Phase"
    }
    $reportFileName += ".md"
    
    # Ensure reports directory exists
    $reportsDir = "memory-bank\reports"
    if (-not (Test-Path $reportsDir)) {
        New-Item -Path $reportsDir -ItemType Directory -Force | Out-Null
    }
    
    $report | Set-Content -Path $reportFileName
    
    Write-Output "âœ… QA validation report saved: $reportFileName"
    
    return $report
}
```

## âŒ FAILURE REPORT FORMAT

If any validation step fails, generate this detailed failure report:

```
âš ï¸âš ï¸âš ï¸ QA VALIDATION FAILED âš ï¸âš ï¸âš ï¸

The following issues must be resolved before proceeding to BUILD mode:

1ï¸âƒ£ DEPENDENCY ISSUES:
- [Detailed description of dependency issues]
- [Recommended fix]

2ï¸âƒ£ CONFIGURATION ISSUES:
- [Detailed description of configuration issues]
- [Recommended fix]

3ï¸âƒ£ ENVIRONMENT ISSUES:
- [Detailed description of environment issues]
- [Recommended fix]

4ï¸âƒ£ BUILD TEST ISSUES:
- [Detailed description of build test issues]
- [Recommended fix]

âš ï¸ BUILD MODE IS BLOCKED until these issues are resolved.
Type 'VAN QA' after fixing the issues to re-validate.
```

### Failure Report Generation Example:
```powershell
function Generate-FailureReport {
    param (
        [string[]]$DependencyIssues = @(),
        [string[]]$ConfigIssues = @(),
        [string[]]$EnvironmentIssues = @(),
        [string[]]$BuildIssues = @(),
        [string]$TaskID = "",
        [string]$Phase = ""
    )
    
    $report = @"
âš ï¸âš ï¸âš ï¸ QA VALIDATION FAILED âš ï¸âš ï¸âš ï¸

The following issues must be resolved before proceeding to BUILD mode:

"@
    
    if ($DependencyIssues.Count -gt 0) {
        $report += @"
1ï¸âƒ£ DEPENDENCY ISSUES:
$(($DependencyIssues | ForEach-Object { "- $_" }) -join "`n")

"@
    }
    
    if ($ConfigIssues.Count -gt 0) {
        $report += @"
2ï¸âƒ£ CONFIGURATION ISSUES:
$(($ConfigIssues | ForEach-Object { "- $_" }) -join "`n")

"@
    }
    
    if ($EnvironmentIssues.Count -gt 0) {
        $report += @"
3ï¸âƒ£ ENVIRONMENT ISSUES:
$(($EnvironmentIssues | ForEach-Object { "- $_" }) -join "`n")

"@
    }
    
    if ($BuildIssues.Count -gt 0) {
        $report += @"
4ï¸âƒ£ BUILD TEST ISSUES:
$(($BuildIssues | ForEach-Object { "- $_" }) -join "`n")

"@
    }
    
    $report += @"
âš ï¸ BUILD MODE IS BLOCKED until these issues are resolved.
Type 'VAN QA' after fixing the issues to re-validate.
"@
    
    # Get task ID from activeContext.md if not provided
    if ([string]::IsNullOrEmpty($TaskID)) {
        if (Test-Path "memory-bank\activeContext.md") {
            $activeContext = Get-Content "memory-bank\activeContext.md" -Raw
            if ($activeContext -match "Current Task[:\s]+([A-Z]+-\d{4})") {
                $TaskID = $Matches[1]
            }
        }
    }
    
    # Validate task ID format
    if ([string]::IsNullOrEmpty($TaskID) -or $TaskID -notmatch "^[A-Z]+-\d{4}$") {
        Write-Warning "Task ID not found or invalid format. Expected format: [PREFIX]-[4-digit-number]"
        Write-Warning "Please ensure activeContext.md contains current task ID"
    }
    
    # Save validation status (used by BUILD mode prevention mechanism)
    "FAIL" | Set-Content -Path "memory-bank\.qa_validation_status"
    
    # Save report file with task ID in filename
    $reportFileName = "memory-bank\reports\qa-report-$TaskID"
    if (-not [string]::IsNullOrEmpty($Phase)) {
        $reportFileName += "-$Phase"
    }
    $reportFileName += ".md"
    
    # Ensure reports directory exists
    $reportsDir = "memory-bank\reports"
    if (-not (Test-Path $reportsDir)) {
        New-Item -Path $reportsDir -ItemType Directory -Force | Out-Null
    }
    
    $report | Set-Content -Path $reportFileName
    
    Write-Output "âš ï¸ QA validation failure report saved: $reportFileName"
    
    return $report
}
```

**Next Step (on SUCCESS):** Load `van-qa-utils/mode-transitions.mdc` to handle BUILD mode transition.
**Next Step (on FAILURE):** Load `van-qa-utils/common-fixes.mdc` for issue remediation guidance. 